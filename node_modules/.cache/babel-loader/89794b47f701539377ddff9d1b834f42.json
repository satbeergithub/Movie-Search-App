{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Satbeer\\\\Desktop\\\\ROUTER PROJECT\\\\src\\\\components\\\\pages\\\\MovieList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./MovieList.css\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MovieList = () => {\n  _s();\n\n  const [movies, setMovies] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true); // const [selectedMovie, setSelectedMovie] = useState(null);\n\n  const fetchMovies = async () => {\n    setLoading(true);\n\n    try {\n      const response = await axios.get(`https://www.omdbapi.com/?s=star wars&page=${currentPage}&apikey=8a7484af`);\n      setMovies(prevMovies => [...prevMovies, ...response.data.Search]);\n      setHasMore(response.data.Search.length > 0);\n      console.log(response.data);\n    } catch (err) {\n      setError(err.message);\n    }\n\n    setLoading(false);\n  };\n\n  const handleLoadMore = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n  };\n\n  useEffect(() => {\n    fetchMovies();\n  }, [currentPage]); // const handleScroll = () => {\n  //   if (window.innerHeight + document.documentElement.scrollTop === document.documentElement.offsetHeight) {\n  //     setCurrentPage(currentPage + 1);\n  //     fetch(`http://www.omdbapi.com/?apikey=8a7484af&s=star wars&page=${currentPage + 1}`)\n  //       .then(response => response.json())\n  //       .then(data => {\n  //         setMovies([...movies, ...data.Search])\n  //       })\n  //   }\n  // }\n  // useEffect(() => {\n  //   window.addEventListener('scroll', handleScroll);\n  //   return () => {\n  //     window.removeEventListener('scroll', handleScroll);\n  //   };\n  // }, [currentPage]);\n  // const fetchMovieDetails = async (imdbID) => {\n  //   const response = await axios.get(\n  //     `https://www.omdbapi.com/?i=${imdbID}&apikey=8a7484af`\n  //   );\n  //   setSelectedMovie(response.data);\n  // };\n\n  const apiCall = () => {\n    const data = axios.get(`http://www.omdbapi.com/?s=${text}&apikey=8a7484af&page=${currentPage}`);\n    return data;\n  };\n\n  const fetchmoviehandler = event => {\n    event.preventDefault();\n    setLoading(true);\n    const data = apiCall();\n    data.then(resp => {\n      console.log(resp.data.Search);\n      setLoading(false);\n      setMovies(resp.data.Search);\n    }).catch(err => {\n      alert(err.message);\n    });\n    setText(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Movie Search App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-inline\",\n      onSubmit: fetchmoviehandler,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control mr-sm-2\",\n        type: \"search\",\n        placeholder: \"Enter Movie Name\",\n        \"aria-label\": \"Search\",\n        onChange: event => {\n          setText(event.target.value);\n        },\n        value: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-outline-success my-2 my-sm-0\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), !loading && error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Loading a content....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), !loading && movies && movies.length ? movies.map((movie, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col1\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/detail/${movie.imdbID}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: movie.Poster == \"N/A\" ? \"https://cdn.pixabay.com/photo/2017/09/04/09/37/cinema-strip-2713352_960_720.jpg\" : movie.Poster,\n              className: \"si\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: movie.Title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: movie.Year\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          textAlign: \"centre\"\n        },\n        children: \"No movies found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), !loading && hasMore && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLoadMore,\n      className: \"btn btn-primary\",\n      children: \"Load More.......\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MovieList, \"anOOXpLm4/qYz2pfHlFp7pUbtt8=\");\n\n_c = MovieList;\nexport default MovieList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","MovieList","movies","setMovies","text","setText","loading","setLoading","error","setError","currentPage","setCurrentPage","hasMore","setHasMore","fetchMovies","response","get","prevMovies","data","Search","length","console","log","err","message","handleLoadMore","prevPage","apiCall","fetchmoviehandler","event","preventDefault","then","resp","catch","alert","target","value","textAlign","map","movie","i","imdbID","Poster","Title","Year"],"sources":["C:/Users/Satbeer/Desktop/ROUTER PROJECT/src/components/pages/MovieList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./MovieList.css\";\r\nimport { Link } from \"react-router-dom\";\r\nconst MovieList = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  // const [selectedMovie, setSelectedMovie] = useState(null);\r\n\r\n  const fetchMovies = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        `https://www.omdbapi.com/?s=star wars&page=${currentPage}&apikey=8a7484af`\r\n      );\r\n      setMovies((prevMovies) => [...prevMovies, ...response.data.Search]);\r\n      setHasMore(response.data.Search.length > 0);\r\n      console.log(response.data)\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    setCurrentPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMovies();\r\n  }, [currentPage]);\r\n\r\n  // const handleScroll = () => {\r\n  //   if (window.innerHeight + document.documentElement.scrollTop === document.documentElement.offsetHeight) {\r\n  //     setCurrentPage(currentPage + 1);\r\n  //     fetch(`http://www.omdbapi.com/?apikey=8a7484af&s=star wars&page=${currentPage + 1}`)\r\n  //       .then(response => response.json())\r\n  //       .then(data => {\r\n  //         setMovies([...movies, ...data.Search])\r\n  //       })\r\n  //   }\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   window.addEventListener('scroll', handleScroll);\r\n  //   return () => {\r\n  //     window.removeEventListener('scroll', handleScroll);\r\n  //   };\r\n  // }, [currentPage]);\r\n\r\n  // const fetchMovieDetails = async (imdbID) => {\r\n  //   const response = await axios.get(\r\n  //     `https://www.omdbapi.com/?i=${imdbID}&apikey=8a7484af`\r\n  //   );\r\n  //   setSelectedMovie(response.data);\r\n  // };\r\n\r\n  const apiCall = () => {\r\n    const data = axios.get(\r\n      `http://www.omdbapi.com/?s=${text}&apikey=8a7484af&page=${currentPage}`\r\n    );\r\n    return data;\r\n  };\r\n  const fetchmoviehandler = (event) => {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n    const data = apiCall();\r\n    data\r\n      .then((resp) => {\r\n        console.log(resp.data.Search);\r\n        setLoading(false);\r\n        setMovies(resp.data.Search);\r\n      })\r\n      .catch((err) => {\r\n        alert(err.message);\r\n      });\r\n    setText(\"\");\r\n  };\r\n  return (\r\n    <div className=\"app\">\r\n      <h5>Movie Search App</h5>\r\n      <form className=\"form-inline\" onSubmit={fetchmoviehandler}>\r\n        <input\r\n          className=\"form-control mr-sm-2\"\r\n          type=\"search\"\r\n          placeholder=\"Enter Movie Name\"\r\n          aria-label=\"Search\"\r\n          onChange={(event) => {\r\n            setText(event.target.value);\r\n          }}\r\n          value={text}\r\n        />\r\n        <button type=\"submit\" className=\"btn btn-outline-success my-2 my-sm-0\">\r\n          Search\r\n        </button>\r\n      </form>\r\n      {/* {selectedMovie && (\r\n        <div className=\"detail\">\r\n          <h4>{selectedMovie.Title}</h4>\r\n          <img src={selectedMovie.Poster} alt=\"Movie Poster\" />\r\n          <p>Year: {selectedMovie.Year}</p>\r\n          <p>Plot: {selectedMovie.Plot}</p>\r\n          <p>Actors: {selectedMovie.Actors}</p>\r\n          <p>Director: {selectedMovie.Director}</p>\r\n          <p>IMDB Rating: {selectedMovie.imdbRating}</p>\r\n        </div>\r\n      )} */}\r\n\r\n      {!loading && error && <p>{error}</p>}\r\n\r\n      <div className=\"col\">\r\n        {loading && (\r\n          <span style={{ textAlign: \"center\" }}>Loading a content....</span>\r\n        )}\r\n        {!loading && movies && movies.length ? (\r\n          movies.map((movie, i) => (\r\n            <div key={i}>\r\n              {\r\n                <div className=\"col1\">\r\n                  <Link to={`/detail/${movie.imdbID}`}>\r\n                  <img\r\n                    src={\r\n                      movie.Poster == \"N/A\"\r\n                        ? \"https://cdn.pixabay.com/photo/2017/09/04/09/37/cinema-strip-2713352_960_720.jpg\"\r\n                        : movie.Poster\r\n                    }\r\n                    className=\"si\"\r\n                  />\r\n                  </Link>\r\n                  <div>\r\n                    <h4>{movie.Title}</h4>\r\n                    <span>{movie.Year}</span>\r\n                  </div>\r\n                </div>\r\n              }\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <h5 style={{ textAlign: \"centre\" }}>No movies found</h5>\r\n        )}\r\n      </div>\r\n\r\n      {!loading && hasMore && (\r\n        <button onClick={handleLoadMore} className=\"btn btn-primary\">\r\n          Load More.......\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}